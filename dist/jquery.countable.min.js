/*! Countable - v0.1.0 - 2014-05-24
* https://github.com/lichunqiang/jquery-countable
* Copyright (c) 2014 light; Licensed MIT */
!function(a){function b(b,c){this.$element=a(b),this.options=c,this.frameVal=this.from=Number(c.from),this.to=Number(c.to),this.duration=c.duration,this.decimals=Math.max(0,c.decimals),this.dec=Math.pow(10,c.decimals),this.startTime=null;var d=this;this.count=function(a){var b=d.from,c=d.to,e=d.duration,f=b>c;null===d.startTime&&(d.startTime=a);var g=a-d.startTime;if(f){var h=d.easeOutExpo(g,0,b-c,e);d.frameVal=b-h}else d.frameVal=d.easeOutExpo(g,b,c-b,e);d.frameVal=Math.round(d.frameVal*d.dec)/d.dec,d.frameVal=f?d.frameVal<c?c:d.frameVal:d.frameVal>c?c:d.frameVal;var i=d.frameVal.toFixed(d.decimals);d.options.commas&&(i=d.addCommas(i)),d.$element.html(i),e>g?requestAnimationFrame(d.count):null!=d.onComplete&&d.onComplete()}}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),b.DEFAULTS={commas:!1,decimals:0,duration:1e3},b.prototype.start=function(a){return this.onComplete=a,isNaN(this.to)||isNaN(this.from)?(this.$element.html("--"),console.log("Error: from or to is not a number")):requestAnimationFrame(this.count),!1},b.prototype.easeOutExpo=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)*1024/1023+b},b.prototype.reset=function(){this.$element.html(0)},b.prototype.addCommas=function(a){a+="";var b,c,d,e;for(b=a.split("."),c=b[0],d=b.length>1?"."+b[1]:"",e=/(\d+)(\d{3})/;e.test(c);)c=c.replace(e,"$1,$2");return c+d},a.Counter=b,a.fn.countable=function(c){return a(this).each(function(){var d=a(this),e=d.data("counter"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||(e=new b(this,f),d.data("counter",e)),"string"==typeof c?e[c]():f.show&&e.show()})}}(jQuery);